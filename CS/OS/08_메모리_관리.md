# 08. ë©”ëª¨ë¦¬ ê´€ë¦¬

## ëª©ì°¨

- [Logical vs Physical address](#logical-vs-physical-address)
- [Address Binding](#address-binding)
  * [MMU](#mmu)
- [ìš©ì–´ ì„¤ëª…](#-----)
  * [Dynamic Loading](#dynamic-loading)
  * [Overlays](#overlays)
  * [Swapping](#swapping)
  * [Dynamic Linking](#dynamic-linking)
- [Allocation of Physical Memory](#allocation-of-physical-memory)
  * [Contiquous allocation (ì—°ì† í• ë‹¹)](#contiquous-allocation--------)
    + [Hole](#hole)
    + [Dynamic Storage-Allocation Problem](#dynamic-storage-allocation-problem)
  * [Noncontiguous allocation (ë¶ˆì—°ì† í• ë‹¹)](#noncontiguous-allocation---------)

## Logical vs Physical address

![image-20220218232722420](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220218232722420.png)

* Logical address
  * ê°€ìƒ ë©”ëª¨ë¦¬ (=virtual address)
* Physical address
  * ë©”ëª¨ë¦¬ì˜ ë¬¼ë¦¬ì ì¸ ì£¼ì†Œ

## Address Binding

![image-20220218233129463](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220218233129463.png)

![image-20220218233226024](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220218233226024.png)

* logical address ê°€ physical addressë¡œ ë°”ë€ŒëŠ” ì‹œì ì´ ì–¸ì œì¸ê°€?
* Compile time binding
  * ì»´íŒŒì¼ ì‹œ ë°”ì¸ë”© ë¨
  * ë¹„íš¨ìœ¨ì  (physical address 0ë²ˆë¶€í„° ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ì¬ì»´íŒŒì¼ í•´ì•¼í•¨)
  * í˜„ëŒ€ ìš´ì˜ì²´ì œì—ì„œ ì í•©í•˜ì§€ ì•ŠìŒ
* Load time binding
  * í”„ë¡œê·¸ë¨ ì‹¤í–‰ë˜ëŠ” ì‹œì ì— ë°”ì¸ë”©
* Run time binding
  * ì‹¤í–‰ ì‹œì— ë¬¼ë¦¬ì ì¸ ì£¼ì†Œ ë°”ì¸ë”© ë˜ì§€ë§Œ, ìˆ˜í–‰ì´ ì‹œì‘ëœ ì´í›„ì—ë„ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¥¼ ì˜®ê¸¸ ìˆ˜ ìˆìŒ
  * ë°”ì¸ë”©ì„ ì ê²€í•˜ëŠ” ê³¼ì • í•„ìš”
  * í•˜ë“œì›¨ì–´ì ì¸ ì§€ì› í•„ìš” (MMU)

### MMU

![image-20220218235754874](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220218235754874.png)

![image-20220218235306932](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220218235306932.png)

* ë‹¤ìŒê³¼ ê°™ì€ ì£¼ì†Œë³€í™˜ í™˜ê²½ì—ì„œëŠ” MMU ê°€ register 2ê°œ í•„ìš”í•˜ë‹¤.
  * Relocation register
  * Limit register

![image-20220218235630520](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220218235630520.png)



## ìš©ì–´ ì„¤ëª…

### Dynamic Loading

![image-20220218235944349](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220218235944349.png)

* í”„ë¡œì„¸ìŠ¤ë¥¼ í•œêº¼ë²ˆì— ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•´ë‹¹ ë£¨í‹´ì´ ë¶ˆë¦´ ë•Œ ì˜¬ë¦¬ëŠ” ê²ƒ
* ìš´ì˜ì²´ì œì˜ ì§€ì› ì—†ì´ í”„ë¡œê·¸ë¨ì—ì„œ êµ¬í˜„ ê°€ëŠ¥, í˜„ëŒ€ì˜ ìš´ì˜ì²´ì œì—ì„œë„ ë©”ëª¨ë¦¬ë¥¼ ë‹¤ ì˜¬ë¦¬ì§€ ì•Šê³  í•„ìš”í•œ ë¶€ë¶„ë§Œ ì˜¬ë¦¬ì§€ë§Œ ìš´ì˜ì²´ì œì—ì„œ ì§€ì›í•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆìŒ

### Overlays

![image-20220219000426450](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219000426450.png)

* í•„ìš”í•œ ë¶€ë¶„ë§Œì„ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ëŠ” ê²ƒ
* Dynamic Loading == Overlays

### Swapping

![image-20220219000620615](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219000620615.png)

* í”„ë¡œì„¸ìŠ¤ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ backing store(=swap area)ë¡œ  **í†µì§¸ë¡œ** ì«“ì•„ë‚´ëŠ” ê²ƒ
* Swap in : Suspended ìƒíƒœê°€ ë¨
* Swap out : Suspended ìƒíƒœê°€ í’€ë¦¼
* swaping ì„ í†µí•´ ë©”ëª¨ë¦¬ ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” run time binding ì„ ì§€ì›í•˜ëŠ” í•˜ë“œì›¨ì–´ê°€ ë” ìœ ë¦¬í•˜ë‹¤.
* swap timeì€ ëŒ€ë¶€ë¶„ ë°ì´í„°ê°€ transfer ë˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„(transfer time)ì´ë‹¤.
  * ë°ì´í„°ì˜ ì–‘ì´ ë§ê¸° ë•Œë¬¸

![image-20220219000726921](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219000726921.png)

### Dynamic Linking

![image-20220219001558880](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219001558880.png)

* linking : ì½”ë“œì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ê²°í•˜ëŠ” ì‘ì—…
* Dynamic linking
  * linking ì„ ì‹¤í–‰ ì‹œê°„ê¹Œì§€ ë¯¸ë£¨ëŠ” ê¸°ë²•
  * ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ê¸° ìœ„í•œ ìœ„ì¹˜ì •ë³´(stub) ë§Œ ì‹¤í–‰íŒŒì¼ì— í¬í•¨
  * shared library : dynamic linkingì„ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
    * `*.so` : ë¦¬ëˆ…ìŠ¤
    * `*.dll` : ìœˆë„ìš°

## Allocation of Physical Memory

![image-20220219002219636](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219002219636.png)

### Contiquous allocation (ì—°ì† í• ë‹¹)

* ë©”ëª¨ë¦¬ì˜ ì—°ì†ì ì¸ ê³µê°„ì— ì ì¬ë˜ëŠ” ê²ƒ
* ğŸ’¡ ***í˜„ëŒ€ ìš´ì˜ì²´ì œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆëŠ” ë°©ë²•***

![image-20220219002451482](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219002451482.png)

![image-20220219002525198](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219002525198.png)

* ê³ ì • ë¶„í•  ë°©ì‹
  * ë‚´ë¶€ ì¡°ê° : ë¶„í• ì˜ í¬ê¸°ê°€ ì •í•´ì ¸ìˆëŠ”ë° í”„ë¡œê·¸ë¨ì˜ í¬ê¸°ê°€ ë” ì‘ì•„ì„œ ìíˆ¬ë¦¬ ê³µê°„ì´ ë‚­ë¹„ëœë‹¤.
  * ì™¸ë¶€ ì¡°ê° : ë¶„í• ì˜ í¬ê¸°ê°€ ë„ˆë¬´ ì‘ì•„ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ ìƒê¸´ë‹¤.
* ê°€ë³€ ë¶„í•  ë°©ì‹
  * ë‚´ë¶€ ì¡°ê°ìœ¼ë¡œ ì¸í•´ ë‚­ë¹„ë  ì¼ì´ ì—†ìŒ
  * ì™¸ë¶€ ì¡°ê°ì€ ì—¬ì „íˆ ë°œìƒ ê°€ëŠ¥í•¨

#### Hole

![image-20220219003108625](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219003108625.png)

#### Dynamic Storage-Allocation Problem

*  ë¹„ì–´ìˆëŠ” hole ì¤‘ ì–´ëŠê³³ì— í”„ë¡œì„¸ìŠ¤ë¥¼ ì˜¬ë¦´ê²ƒì¸ì§€?
* First-fit / Best-fit / Worst-fit
* Compaction
  * holeì„ ëª¨ì•„ì„œ í•˜ë‚˜ì˜ í° blockì„ ë§Œë“œëŠ” ê²ƒ
  * ë¹„ìš©ì´ ë§ì´ ë“¬

![image-20220219003222610](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219003222610.png)

![image-20220219003549439](08_ë©”ëª¨ë¦¬_ê´€ë¦¬.assets/image-20220219003549439.png)

### Noncontiguous allocation (ë¶ˆì—°ì† í• ë‹¹)

* í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì˜ ì—¬ëŸ¬ ì˜ì—­ì— ë¶„ì‚°ë˜ì–´ ì ì¬ë˜ëŠ” ê²ƒ

